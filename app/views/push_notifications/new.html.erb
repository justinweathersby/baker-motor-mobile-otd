<div class="col-xs-12 col-lg-8 col-lg-offset-2" style=" margin-top: 3vh; padding:15px;">
  <div class="portlet light">
    <div class="portlet-title">
        <div class="caption font-red-sunglo">
          <span class="caption-subject bold uppercase" style="font-size:24px">Create Push Notification</span><br />
        </div>
        <div class="actions">
          <%= link_to :back, :class => "btn btn-circle btn-icon-only red" do %>
            <i class="icon-trash"></i>
          <% end %>
          <a class="btn btn-circle btn-icon-only btn-default fullscreen" href="javascript:;" data-original-title="" title=""> </a>
        </div>
    </div>
    <div class="portlet-body form">
      <%= form_for(@push_notification) do |f| %>
        <% if @push_notification.errors.any? %>
          <div style="visibility: hidden; height:0;">
            <%= flash[:notice] = @push_notification.errors.full_messages %>
          </div>
        <% end %>
        <div class="form-group form-md-line-input form-md-floating-label">
            <!-- <textarea class="form-control" rows="3" maxlength="256"></textarea> -->
             <%= f.text_area :message, class: "form-control", rows: 3, maxlength: 256 %>
            <label for="form_control_1">Message Text</label>
            <span class="help-block" >Push Notification has a max of 256 characters...</span>
        </div>

        <h3 style="font-size: 16px; color: #999; font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;font-weight: 800; letter-spacing: .2px;">Dealership Members</h3>

        <table class="table table-striped table-bordered table-hover table-checkable order-column" id="users_notifications_checkbox_table">
            <thead>
                <tr>
                    <th>
                        <label class="mt-checkbox mt-checkbox-single mt-checkbox-outline">
                            <input type="checkbox" class="group-checkable" data-set="#sample_1 .checkboxes" />
                            <span></span>
                        </label>
                    </th>
                    <th> Name </th>
                    <th> Email </th>
                    <th> Joined </th>
                </tr>
            </thead>
            <tbody>
              <% User.where.not('device_token' => nil).each do |user| %>
                <tr class="odd gradeX">
                  <td>
                      <label class="mt-checkbox mt-checkbox-single mt-checkbox-outline">
                        <%= check_box_tag 'tokens[]', user.id, false, :class => 'checkboxes' %>
                          <span></span>
                      </label>
                  </td>
                  <td><%= user.name %></td>
                  <td><%= user.email %></td>
                  <td style="text-align:center; "><%= user.created_at.strftime("%m/%d/%Y") %></td>
                </tr>
              <% end %>
            </tbody>
        </table>
        <div class="row" style="text-align:center">
          <%= f.hidden_field :user_id, value: current_user.id %>
          <%= f.submit "Create", :type => "submit", :class=>"btn btn-primary", :style=>"border-radius: 5px !important; margin-top:10px; background: #FF5252; font-family: 'Muli', 'Helvetica', 'Arial', 'sans-serif'; text-shadow:none; font-variant:none; width: 92%; margin-top:30px" %>
        </div>
        <% end %>
      </div>
    </div>                    <!-- END EXAMPLE TABLE PORTLET-->
  </div>


<!-- <div class="col-lg-10 offset-lg-1">
  <div class="row">
    <h1 class="text-md-center" style="padding: 1rem 0">Create Push Notification</h1>
  </div>

  <%= form_for(@push_notification) do |f| %>
  <div class="row">
    <% if current_user.has_role? :admin %>
      <div class="pull-right" style="width:20%">
        <%= f.submit "Create", :type => "submit", :class=>"btn btn-primary", :style=>"width:100%" %>
      </div>
    <% end %>
    <div class="text-lg-left">
      <%= link_to push_notifications_path, :class=>"btn btn-danger" do  %>
        <i class="fa fa-chevron-circle-left fa-fw" aria-hidden="true"></i>Back
      <% end %>
    </div>
  </div>

  <% if @push_notification.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(@push_notification.errors.count, "error") %> prohibited this push_notification from being saved:</h2>

      <ul>
      <% @push_notification.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="row" style="background-color: white; border-radius:.5em; padding:2em;margin-top: 2.5em;">

  <div class="form-group row">
    <label for="inputName" class="col-sm-2 col-form-label">Message:</label>
    <div class="col-sm-10">
      <%= f.text_field :message, :id=> "inputName", :class=> "form-control", :placeholder=>"Message" %>

    </div>
  </div>

  <div class="form-group row">
    <label for="inputName" class="col-sm-2 col-form-label">Customers:</label>
    <div class="col-sm-10">
    <%= f.collection_check_boxes :tokens, User.where.not('device_token' => nil), :device_token, :email do |b| %>
          <div class="collection-check-box">
          <%= b.check_box %>
          <%= b.label %>
    <% end %>
          </div>
    </div>
  </div>
</div>
  <% end %>
</div> -->
